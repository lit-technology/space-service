CREATE TABLE IF NOT EXISTS "user" (
	id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
	name VARCHAR(30),
	username VARCHAR(30) NOT NULL UNIQUE,
	bio VARCHAR(300),
	photo_url VARCHAR(60),
	gender BOOLEAN,
	birthday DATE,
	space_id BIGINT,
	posts INT NOT NULL DEFAULT 0,
	followers INT NOT NULL DEFAULT 0,
	following INT NOT NULL DEFAULT 0,
	created TIMESTAMP NOT NULL DEFAULT NOW(),
	deleted TIMESTAMP
);

CREATE TABLE IF NOT EXISTS user_follow (
	user_id BIGINT NOT NULL,
	follower_id BIGINT NOT NULL REFERENCES "user"(id),
	PRIMARY KEY(user_id, follower_id)
);
